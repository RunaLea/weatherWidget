import { computed } from "vue";
import {useWeather} from "./AppData.ts";


const weatherCodeToLabel: Record<number, string> = {
  1000: 'Clear',
  1100: 'Mostly Clear',
  1101: 'Partly Cloudy',
  1102: 'Mostly Cloudy',
  1001: 'Cloudy',
  1103: 'Partly Cloudy, Mostly Clear',
  2100: 'Light Fog',
  2000: 'Fog',
  2101: 'Mostly Clear, Light Fog',
  2102: 'Partly Cloudy, Light Fog',
  2103: 'Mostly Cloudy, Light Fog',
  2106: 'Mostly Clear, Fog',
  2107: 'Partly Cloudy, Fog',
  2108: 'Mostly Cloudy, Fog',
  4000: 'Drizzle',
  4001: 'Rain',
  4201: 'Heavy Rain',
  4203: 'Mostly Clear, Drizzle',
  4204: 'Partly Cloudy, Drizzle',
  4205: 'Mostly Cloudy, Drizzle',
  4213: 'Mostly Clear, Light Rain',
  4214: 'Partly Cloudy, Light Rain',
  4215: 'Mostly Cloudy, Light Rain',
  4209: 'Mostly Clear, Rain',
  4208: 'Partly Cloudy, Rain',
  4210: 'Mostly Cloudy, Rain',
  4211: 'Mostly Clear, Heavy Rain',
  4202: 'Partly Cloudy, Heavy Rain',
  4212: 'Mostly Cloudy, Heavy Rain',
  5001: 'Flurries',
  5100: 'Light Snow',
  5000: 'Snow',
  5101: 'Heavy Snow',
  5115: 'Mostly Clear, Flurries',
  5116: 'Partly Cloudy, Flurries',
  5117: 'Mostly Cloudy, Flurries',
  5122: 'Drizzle, Light Snow',
  5102: 'Mostly Clear, Light Snow',
  5103: 'Partly Cloudy, Light Snow',
  5104: 'Mostly Cloudy, Light Snow',
  5105: 'Mostly Clear, Snow',
  5106: 'Partly Cloudy, Snow',
  5107: 'Mostly Cloudy, Snow',
  5119: 'Mostly Clear, Heavy Snow',
  5120: 'Partly Cloudy, Heavy Snow',
  5121: 'Mostly Cloudy, Heavy Snow',
  5110: 'Drizzle, Snow',
  5108: 'Rain, Snow',
  5114: 'Snow, Freezing Rain',
  5112: 'Snow, Ice Pellets',
  6000: 'Freezing Drizzle',
  6200: 'Light Freezing Drizzle',
  6001: 'Freezing Rain',
  6201: 'Heavy Freezing Rain',
  6003: 'Mostly Clear, Freezing Drizzle',
  6002: 'Partly Cloudy, Freezing Drizzle',
  6004: 'Mostly Cloudy, Freezing Drizzle',
  6204: 'Drizzle, Freezing Drizzle',
  6206: 'Light Rain, Freezing Drizzle',
  6205: 'Mostly Clear, Light Freezing Rain',
  6203: 'Partly Cloudy, Light Freezing Rain',
  6209: 'Mostly Cloudy, Light Freezing Rain',
  6213: 'Mostly Clear, Freezing Rain',
  6214: 'Partly Cloudy, Freezing Rain',
  6215: 'Mostly Cloudy, Freezing Rain',
  6212: 'Drizzle, Freezing Rain',
  6220: 'Light Rain, Freezing Rain',
  6222: 'Rain, Freezing Rain',
  6207: 'Mostly Clear, Heavy Freezing Rain',
  6202: 'Partly Cloudy, Heavy Freezing Rain',
  6208: 'Mostly Cloudy, Heavy Freezing Rain',
  7102: 'Light Ice Pellets',
  7000: 'Ice Pellets',
  7101: 'Heavy Ice Pellets',
  7110: 'Mostly Clear, Light Ice Pellets',
  7111: 'Partly Cloudy, Light Ice Pellets',
  7112: 'Mostly Cloudy, Light Ice Pellets',
  7108: 'Mostly Clear, Ice Pellets',
  7107: 'Partly Cloudy, Ice Pellets',
  7109: 'Mostly Cloudy, Ice Pellets',
  7113: 'Mostly Clear, Heavy Ice Pellets',
  7114: 'Partly Cloudy, Heavy Ice Pellets',
  7116: 'Mostly Cloudy, Heavy Ice Pellets',
  7105: 'Drizzle, Ice Pellets',
  7115: 'Light Rain, Ice Pellets',
  7117: 'Rain, Ice Pellets',
  7106: 'Freezing Rain, Ice Pellets',
  7103: 'Freezing Rain, Heavy Ice Pellets',
  8000: 'Thunderstorm',
  8001: 'Mostly Clear, Thunderstorm',
  8003: 'Partly Cloudy, Thunderstorm',
  8002: 'Mostly Cloudy, Thunderstorm',
}

export function useWeatherLabel() {
  const { weather } = useWeather()

  const label = computed(() => {
    const code = weather.value?.timelines?.hourly?.[0]?.values?.weatherCode
    return weatherCodeToLabel[code] || 'Unknown'
  })

  return label
}